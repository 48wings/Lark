var __extends=this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);o.prototype=e.prototype,t.prototype=new o},__define=this.__define||function(t,e,o,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:o,set:n})},lark;!function(t){var e;!function(e){var o=function(e){function o(){var o=this;e.call(this),this.onUpdate=function(e){var n=new t.GeolocationEvent(t.Event.CHANGE),i=e.coords;n.altitude=i.altitude,n.heading=i.heading,n.accuracy=i.accuracy,n.latitude=i.latitude,n.longitude=i.longitude,n.speed=i.speed,n.altitudeAccuracy=i.altitudeAccuracy,o.emit(n)},this.onError=function(e){var n=t.GeolocationEvent.UNAVAILABLE;e.code==e.PERMISSION_DENIED&&(n=t.GeolocationEvent.PERMISSION_DENIED);var i=new t.GeolocationEvent(t.Event.IO_ERROR);i.errorType=n,i.errorMessage=e.message,o.emit(i)},this.geolocation=navigator.geolocation}__extends(o,e);var n=o;return p=n.prototype,p.start=function(){var e=this.geolocation;e?this.watchId=e.watchPosition(this.onUpdate,this.onError):this.onError({code:2,message:t.sys.tr(3101),PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2})},p.stop=function(){var t=this.geolocation;t.clearWatch(this.watchId)},o}(t.EventEmitter);e.WebGeolocation=o,t.Geolocation=t.web.WebGeolocation}(e=t.web||(t.web={}))}(lark||(lark={}));